const e=document.querySelector("body");var t=function(){!function(t){const n=new Image;n.src=`./images/${t+1}.jpg`,n.classList.add("bgImage"),e.prepend(n)}(Math.floor(5*Math.random()))};const n=document.querySelector(".js-clock").querySelector("h1");function o(){const e=new Date,t=e.getMinutes(),o=e.getHours(),c=e.getSeconds();n.innerText=`${o<10?`0${o}`:o}:${t<10?`0${t}`:t}:${c<10?`0${c}`:c}`}var c=function(){o(),setInterval(o,1e3)};const r=document.querySelector(".js-form"),a=r.querySelector("input"),s=document.querySelector(".js-greetings");function i(e){e.preventDefault();const t=a.value;var n;l(t),n=t,localStorage.setItem("currentUser",n)}function l(e){const t=document.querySelector(".js-todoForm");r.classList.remove("showing"),s.classList.add("showing"),s.innerText=`Have a good day!  ${e}`,t.classList.add("showing")}function u(){const e=localStorage.getItem("currentUser");if(null===e){const e="toDos";localStorage.removeItem(e),r.classList.add("showing"),r.addEventListener("submit",i)}else l(e)}var d=function(){u()};const g=document.querySelector(".js-todoForm"),m=g.querySelector("input"),f=document.querySelector(".js-todoList");let p=1;let h=[];function S(e){const t=e.target.parentNode;f.removeChild(t);const n=h.filter((e=>e.id!==parseInt(t.id)));h=n,v()}function v(){localStorage.setItem("toDos",JSON.stringify(h))}function y(e){const t=document.createElement("li"),n=document.createElement("button"),o=document.createElement("span");let c=p;n.innerText="✖",n.addEventListener("click",S),o.innerText=e,t.appendChild(n),t.appendChild(o),t.id=c,f.appendChild(t);const r={text:e,id:c};h.push(r),v(),p+=1}function $(e){e.preventDefault();const t=m.value;""!==t&&(y(t),m.value="")}var w=function(){!function(){const e=localStorage.getItem("toDos");null!==e&&JSON.parse(e).forEach((e=>{y(e.text)}))}(),g.addEventListener("submit",$)};const q=document.querySelector(".js-weather"),I=document.querySelector(".js-weather-icon");function j(e,t){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=ae2a87cc9eabbefa22e82e38fb9a37fc&units=metric&lang=kr`).then((e=>e.json())).then((e=>{const t=`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,n=e.main.temp,o=e.name;I.style.backgroundImage=`url(${t})`,q.innerText=`${o} \n ${n} ℃`}))}function b(e){const t=e.coords.latitude,n=e.coords.longitude;!function(e){localStorage.setItem("coords",JSON.stringify(e))}({latitude:t,longitude:n}),j(t,n)}function L(){console.log("Can't access geo location!")}function x(){const e=localStorage.getItem("coords");if(null===e)navigator.geolocation.getCurrentPosition(b,L);else{const t=JSON.parse(e);j(t.latitude,t.longitude)}}var E=function(){x()};function C(){t(),c(),d(),w(),E()}C(),C();
//# sourceMappingURL=index.4a7a2e2e.js.map
